import"https://cdn.tailwindcss.com";const o=document.getElementById("aiForm"),n=document.getElementById("error"),t=document.getElementById("result"),r=localStorage.getItem("token");r||(window.location.href="/login");o&&n&&t&&o.addEventListener("submit",async i=>{i.preventDefault(),n.innerText="",t.classList.add("hidden");const a=document.getElementById("platform").value,d=document.getElementById("budget").value,s=document.getElementById("objective").value;try{const e=await fetch("http://127.0.0.1:8000/ai/decision",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({platform:a,budget:d,objective:s})});if(!e.ok)throw new Error("AI request failed");const c=await e.json();t.innerText=JSON.stringify(c,null,2),t.classList.remove("hidden")}catch(e){n.innerText="Unable to get AI decision",console.error(e)}});
